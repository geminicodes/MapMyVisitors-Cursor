"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{7398:function(t,e,a){a.d(e,{Z:function(){return c}});var r=a(7437),l=a(2265),n=a(8667),i=a(1817);function c(){let t=(0,l.useRef)(null),e=(0,l.useRef)(null),a=(0,l.useRef)(null),c=(0,l.useRef)(null),o=(0,l.useRef)(null);(0,l.useRef)(!1);let s=(0,l.useRef)(!0),[u,d]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),[g,h]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),f=[{lat:37.7749,lng:-122.4194,city:"San Francisco",country:"United States",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=1"},{lat:51.5074,lng:-.1278,city:"London",country:"United Kingdom",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=2"},{lat:35.6762,lng:139.6503,city:"Tokyo",country:"Japan",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=3"},{lat:-33.8688,lng:151.2093,city:"Sydney",country:"Australia",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=4"},{lat:52.52,lng:13.405,city:"Berlin",country:"Germany",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=5"},{lat:48.8566,lng:2.3522,city:"Paris",country:"France",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=6"},{lat:-23.5505,lng:-46.6333,city:"S\xe3o Paulo",country:"Brazil",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=7"},{lat:1.3521,lng:103.8198,city:"Singapore",country:"Singapore",color:"#3b82f6",altitude:.08,radius:.5,isRecent:!0,avatarUrl:"https://i.pravatar.cc/150?img=8"},{lat:40.7128,lng:-74.006,city:"New York",country:"United States",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=9"},{lat:19.076,lng:72.8777,city:"Mumbai",country:"India",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=10"},{lat:43.6532,lng:-79.3832,city:"Toronto",country:"Canada",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=11"},{lat:25.2048,lng:55.2708,city:"Dubai",country:"United Arab Emirates",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=12"},{lat:55.7558,lng:37.6173,city:"Moscow",country:"Russia",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=13"},{lat:6.5244,lng:3.3792,city:"Lagos",country:"Nigeria",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=14"},{lat:19.4326,lng:-99.1332,city:"Mexico City",country:"Mexico",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=15"},{lat:37.5665,lng:126.978,city:"Seoul",country:"South Korea",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=16"},{lat:-34.6037,lng:-58.3816,city:"Buenos Aires",country:"Argentina",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=17"},{lat:30.0444,lng:31.2357,city:"Cairo",country:"Egypt",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=18"},{lat:13.7563,lng:100.5018,city:"Bangkok",country:"Thailand",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=19"},{lat:41.0082,lng:28.9784,city:"Istanbul",country:"Turkey",color:"#6b7280",altitude:.04,radius:.3,isRecent:!1,avatarUrl:"https://i.pravatar.cc/150?img=20"}];return(0,l.useEffect)(()=>{let t=()=>{s.current&&h(window.innerWidth<640)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,l.useEffect)(()=>{if(s.current=!0,!e.current||!b)return;let t=async()=>{if(e.current&&s.current)try{if(!window.Globe)throw Error("Globe not found on window");let t=window.Globe,r=window.matchMedia("(prefers-reduced-motion: reduce)").matches,l=t();l.width(e.current.clientWidth).height(e.current.clientHeight).globeImageUrl("https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg").bumpImageUrl("https://unpkg.com/three-globe/example/img/earth-topology.png").backgroundImageUrl("https://unpkg.com/three-globe/example/img/night-sky.png").atmosphereColor("#3b82f6").atmosphereAltitude(.15).showAtmosphere(!0).pointColor(t=>t.color).pointAltitude(t=>t.altitude).pointRadius(t=>t.radius).pointLabel(t=>"".concat(t.city,", ").concat(t.country)).htmlElementsData(f.map((t,e)=>({...t,idx:e}))).htmlElement(t=>{let e=document.createElement("div");e.style.cssText="\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              overflow: hidden;\n              border: 3px solid ".concat(t.isRecent?"#3b82f6":"#6b7280",";\n              box-shadow: 0 0 ").concat(t.isRecent?"20px rgba(59, 130, 246, 0.8)":"10px rgba(107, 114, 128, 0.5)",";\n              background: #000;\n              cursor: pointer;\n              transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s ease;\n            ");let a=document.createElement("img");return a.src=t.avatarUrl||"https://i.pravatar.cc/150?img=1",a.style.cssText="\n              width: 100%;\n              height: 100%;\n              object-fit: cover;\n            ",a.alt="".concat(t.city,", ").concat(t.country),e.appendChild(a),e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.2)",e.style.boxShadow="0 0 30px ".concat(t.isRecent?"rgba(59, 130, 246, 1)":"rgba(107, 114, 128, 0.8)")}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)",e.style.boxShadow="0 0 ".concat(t.isRecent?"20px rgba(59, 130, 246, 0.8)":"10px rgba(107, 114, 128, 0.5)")}),t.__element=e,e}).htmlLat(t=>t.lat).htmlLng(t=>t.lng).htmlAltitude(t=>t.altitude),l(e.current),a.current=l,l.pointOfView({lat:20,lng:-30,altitude:2.5},0);let n=f.map((t,e)=>({...t,idx:e,baseAltitude:t.altitude}));l.pointsData(n),setTimeout(()=>{if(s.current)try{let t=l.controls();if(t){r||(t.autoRotate=!0,t.autoRotateSpeed=.5);let a=()=>{!r&&s.current&&(t.autoRotate=!1,o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{if(!s.current)return;let t=l.controls();t&&(t.autoRotate=!0)},3e3))},n=e.current;n&&(n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),n.addEventListener("wheel",a))}}catch(t){console.warn("Error accessing controls:",t)}},100);let i=(t,e)=>{try{let a=l.camera();if(!a)return!0;let r=Math.PI/180*(90-t),n=Math.PI/180*(e+180),i=a.position,c=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z),o=i.x/c,s=i.y/c,u=i.z/c;return Math.sin(r)*Math.cos(n)*o+Math.cos(r)*s+Math.sin(r)*Math.sin(n)*u>.15}catch(t){return!0}};if(!r){let t=0;c.current=setInterval(()=>{if(!s.current)return;t+=.016;let e=l.pointsData(),a=l.htmlElementsData();e&&Array.isArray(e)&&(e.forEach(e=>{if(e.isRecent){let a=.04*Math.sin(3*t+e.idx);e.altitude=(e.baseAltitude||e.altitude)+a}}),l.pointAltitude(t=>t.altitude)),a&&Array.isArray(a)&&(a.forEach(e=>{if(e.isRecent){let a=.04*Math.sin(3*t+e.idx);e.altitude=(e.baseAltitude||e.altitude)+a}if(e.__element){let t=i(e.lat,e.lng);e.__element.style.opacity=t?"1":"0",e.__element.style.pointerEvents=t?"auto":"none"}}),l.htmlAltitude(t=>t.altitude))},16)}s.current&&d(!0)}catch(t){s.current&&p(t instanceof Error?t.message:String(t))}};return window.Globe?t():p("Globe library not loaded"),()=>{if(s.current=!1,c.current&&(clearInterval(c.current),c.current=null),o.current&&(clearTimeout(o.current),o.current=null),a.current)try{let t=a.current.renderer();t&&t.domElement&&t.domElement.parentNode&&t.domElement.parentNode.removeChild(t.domElement),t&&"function"==typeof t.dispose&&t.dispose(),a.current=null}catch(t){console.warn("Error cleaning up globe:",t)}let t=e.current;if(t)try{for(;t.firstChild;)t.removeChild(t.firstChild)}catch(t){console.warn("Error clearing globe mount:",t)}}},[b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{src:"https://unpkg.com/globe.gl@2.31.0/dist/globe.gl.min.js",strategy:"afterInteractive",onLoad:()=>{y(!0)},onError:()=>{p("Failed to load globe.gl library")}}),(0,r.jsxs)("div",{className:"w-full max-w-[600px] mx-auto",children:[(0,r.jsxs)("div",{ref:t,className:"relative w-full aspect-square rounded-3xl overflow-hidden bg-black",style:{boxShadow:"0 0 60px rgba(59, 130, 246, 0.3), 0 0 120px rgba(59, 130, 246, 0.15)",height:g?"400px":"600px"},children:[(0,r.jsx)("div",{ref:e,className:"absolute inset-0"}),!u&&!m&&(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm z-10",children:[(0,r.jsx)(i.Z,{className:"w-12 h-12 animate-spin text-blue-400 mb-4"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Loading globe..."})]}),m&&(0,r.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/90 backdrop-blur-sm p-6 z-10",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-400 font-semibold mb-2",children:"Unable to Load Globe"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:m}),(0,r.jsx)("p",{className:"text-gray-500 text-xs",children:"Please refresh the page"})]})}),u&&(0,r.jsx)("div",{className:"absolute top-4 right-4 px-3 py-2 bg-black/60 backdrop-blur-sm rounded-lg text-xs text-gray-300 pointer-events-none z-20",children:(0,r.jsx)("p",{children:"Drag to rotate • Scroll to zoom"})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.filter(t=>t.isRecent).length," recent visitors •"," ",f.filter(t=>!t.isRecent).length," total locations"]})})]})]})}}}]);