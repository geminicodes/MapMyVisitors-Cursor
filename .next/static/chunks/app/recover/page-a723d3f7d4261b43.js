(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{4470:function(e,t,r){Promise.resolve().then(r.bind(r,8940))},8940:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(7437),s=r(2265),n=r(7648),l=r(9202),i=r(401),c=r(9322),d=r(1817);function o(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),f=async t=>{if(t.preventDefault(),h(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){h("Invalid email format");return}o(!0);try{let t=await fetch("/api/recover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(await t.json().catch(()=>null),!t.ok){429===t.status?h("Too many attempts. Please try again in an hour."):h("Failed to send email. Please try again."),o(!1);return}m(!0)}catch(e){console.error("[Recover] Request failed:",e),h("Network error. Please check your connection."),o(!1)}};return u?(0,a.jsx)("div",{className:"min-h-screen bg-space-dark flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,a.jsx)(l.Z,{className:"w-10 h-10 text-accent-blue mr-3","aria-hidden":"true"}),(0,a.jsx)(n.default,{href:"/",className:"text-2xl font-bold hover:text-accent-blue transition-colors",children:"MapMyVisitors"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-blue/20 to-accent-purple/20 rounded-3xl blur-3xl","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative p-8 rounded-3xl backdrop-blur-xl bg-white/5 border border-transparent shadow-2xl text-center",style:{borderImage:"linear-gradient(to right, #3b82f6, #8b5cf6) 1",boxShadow:"0 0 60px rgba(59, 130, 246, 0.2)"},children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-accent-green/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 text-accent-green","aria-hidden":"true"})})}),(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Check Your Email!"}),(0,a.jsxs)("p",{className:"text-lg text-text-secondary mb-2",children:["We've sent a magic link to ",(0,a.jsx)("span",{className:"text-text-primary font-medium",children:e})]}),(0,a.jsx)("p",{className:"text-sm text-text-muted mb-8",children:"The link expires in 24 hours. Check your spam folder if you don't see it."}),(0,a.jsx)(n.default,{href:"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-accent-blue to-accent-purple text-white font-semibold rounded-lg hover:-translate-y-0.5 transition-all duration-200 shadow-lg hover:shadow-accent-blue/50",children:"Back to Homepage"})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-space-dark flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,a.jsx)(l.Z,{className:"w-10 h-10 text-accent-blue mr-3","aria-hidden":"true"}),(0,a.jsx)(n.default,{href:"/",className:"text-2xl font-bold hover:text-accent-blue transition-colors",children:"MapMyVisitors"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-blue/20 to-accent-purple/20 rounded-3xl blur-3xl","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative p-8 rounded-3xl backdrop-blur-xl bg-white/5 border border-transparent shadow-2xl",style:{borderImage:"linear-gradient(to right, #3b82f6, #8b5cf6) 1",boxShadow:"0 0 60px rgba(59, 130, 246, 0.2)"},children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-3 text-center",children:"Recover Your Widget Code"}),(0,a.jsx)("p",{className:"text-lg text-text-secondary mb-8 text-center",children:"Enter your email to receive a magic link"}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),placeholder:"your@email.com",className:"w-full h-14 px-4 bg-space-dark border border-space-border rounded-xl text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue",required:!0,disabled:r,"aria-label":"Email address"})]}),x&&(0,a.jsxs)("div",{className:"flex items-start gap-2 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5","aria-hidden":"true"}),(0,a.jsx)("p",{className:"text-sm text-red-500",children:x})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full h-14 px-6 bg-gradient-to-r from-accent-blue to-accent-purple text-white font-semibold rounded-xl hover:-translate-y-0.5 transition-all duration-200 shadow-lg hover:shadow-accent-blue/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 flex items-center justify-center gap-2","aria-label":"Send magic link",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}),"Sending..."]}):"Send Magic Link"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(n.default,{href:"/",className:"text-sm text-text-secondary hover:text-text-primary transition-colors",children:"â† Back to Homepage"})})]})]})]})})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:c?24*Number(i)/Number(s):i,className:n("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:c,...d}=r;return(0,a.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(s(e)),c),...d})});return r.displayName="".concat(e),r}},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9202:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=4470)}),_N_E=e.O()}]);