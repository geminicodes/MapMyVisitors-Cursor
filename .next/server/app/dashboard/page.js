(()=>{var e={};e.id=7,e.ids=[7],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89938:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>l}),s(69521),s(11506),s(35866);var a=s(23191),i=s(88716),r=s(37922),o=s.n(r),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,69521)),"/workspace/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/app/dashboard/page.tsx"],m="/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74424:(e,t,s)=>{Promise.resolve().then(s.bind(s,4352))},21251:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},85276:()=>{},4352:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(10326),i=s(17577),r=s(90434),o=s(77506),n=s(41291),d=s(54014),l=s(32933);let c=(0,s(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function m(){let[e,t]=(0,i.useState)(null),[s,m]=(0,i.useState)(null),[u,x]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),[b,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),w=async e=>{try{let t=await fetch(`/api/dashboard?widgetId=${e}`),s=await t.json();if(!t.ok){402===t.status?p("payment-pending"):404===t.status?p("not-found"):p("generic"),x(!1);return}m(s.user),x(!1)}catch(e){console.error("[Dashboard] verifyUser failed:",e),p("network"),x(!1)}},f=async()=>{if(!e)return;let t=`<!-- Step 1: Add container (optional) -->
<div id="mapmyvisitors-widget"></div>

<!-- Step 2: Add widget script -->
<script src="https://mapmyvisitors.com/widget.js?id=${e}"></script>`;try{await navigator.clipboard.writeText(t),g(!0),setTimeout(()=>g(!1),2e3)}catch(e){console.error("Copy failed:",e),alert("Failed to copy. Please copy the code manually.")}},j=()=>{e&&(x(!0),p(null),w(e))};if(u)return a.jsx("div",{className:"min-h-screen bg-space-dark flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(o.Z,{className:"w-12 h-12 text-accent-blue mx-auto mb-4 animate-spin","aria-label":"Loading"}),a.jsx("p",{className:"text-text-secondary text-lg",children:"Loading your dashboard..."})]})});if(h){let e={"no-widget-id":{icon:a.jsx(n.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),heading:"Widget ID Not Found",message:"It looks like you haven't signed up yet or lost your widget code.",subtext:"Sign up on the homepage or recover your existing account if you already paid.",buttonText:"Recover Account",buttonAction:()=>{},isLink:!0,linkTo:"/recover"},"payment-pending":{icon:a.jsx(n.Z,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),heading:"Payment Pending",message:"We're processing your payment. This usually takes 1-2 minutes. Please refresh this page in a moment.",subtext:"If it takes longer than 5 minutes, check your email for confirmation or contact support.",buttonText:"Refresh Page",buttonAction:()=>window.location.reload(),isLink:!1,linkTo:void 0},"not-found":{icon:a.jsx(n.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),heading:"Account Not Found",message:"This widget ID doesn't exist in our system. Please sign up again.",subtext:void 0,buttonText:"Sign Up Again",buttonAction:()=>{},isLink:!0,linkTo:"/"},network:{icon:a.jsx(n.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),heading:"Connection Error",message:"Unable to load your dashboard. Please check your internet connection.",subtext:void 0,buttonText:"Retry",buttonAction:j,isLink:!1,linkTo:void 0},generic:{icon:a.jsx(n.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),heading:"Something Went Wrong",message:"Failed to load dashboard. Please try again.",subtext:void 0,buttonText:"Retry",buttonAction:j,isLink:!1,linkTo:void 0},"invalid-token":{icon:a.jsx(n.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),heading:"Invalid or Expired Link",message:"This magic link has expired or is invalid. Please request a new one.",subtext:void 0,buttonText:"Request New Link",buttonAction:()=>{},isLink:!0,linkTo:"/recover"}},t=e[h]||e.generic;return a.jsx("div",{className:"min-h-screen bg-space-dark flex items-center justify-center px-6",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-space-card border border-space-border rounded-2xl p-8 text-center",children:[t.icon,a.jsx("h1",{className:"text-3xl font-bold mb-4",children:t.heading}),a.jsx("p",{className:"text-text-secondary mb-2",children:t.message}),t.subtext&&a.jsx("p",{className:"text-text-muted text-sm mb-6",children:t.subtext}),t.isLink?a.jsx(r.default,{href:t.linkTo||"/",className:"inline-block px-6 py-3 bg-gradient-to-r from-accent-blue to-accent-purple text-white font-semibold rounded-lg hover:-translate-y-0.5 transition-all duration-200 shadow-lg hover:shadow-accent-blue/50",children:t.buttonText}):a.jsx("button",{onClick:t.buttonAction,className:"px-6 py-3 bg-gradient-to-r from-accent-blue to-accent-purple text-white font-semibold rounded-lg hover:-translate-y-0.5 transition-all duration-200 shadow-lg hover:shadow-accent-blue/50",children:t.buttonText})]})})}return s?(0,a.jsxs)("div",{className:"min-h-screen bg-space-dark",children:[y&&a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-accent-green p-4 text-center text-white font-medium animate-slide-down",children:"âœ“ Payment successful! Your widget is ready."}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[a.jsx(d.Z,{className:"w-10 h-10 text-accent-blue mr-3","aria-hidden":"true"}),a.jsx(r.default,{href:"/",className:"text-2xl font-bold hover:text-accent-blue transition-colors",children:"MapMyVisitors"})]}),(0,a.jsxs)("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Your Globe is Ready! \uD83C\uDF89"}),a.jsx("p",{className:"text-lg font-medium text-text-secondary mb-2",children:"Copy the code below and paste it on your website"}),(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["Logged in as: ",s.email]})]}),(0,a.jsxs)("div",{className:"relative mb-12",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-blue/20 to-accent-purple/20 rounded-3xl blur-3xl","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative p-8 rounded-3xl backdrop-blur-xl bg-white/5 border border-transparent shadow-2xl",style:{borderImage:"linear-gradient(to right, #3b82f6, #8b5cf6) 1",boxShadow:"0 0 60px rgba(59, 130, 246, 0.2)"},children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your Widget Code"}),a.jsx("div",{className:"bg-space-dark p-6 rounded-xl mb-4 overflow-x-auto",children:a.jsx("pre",{className:"text-sm font-mono text-white whitespace-pre-wrap break-words",children:`<!-- Step 1: Add container (optional) -->
<div id="mapmyvisitors-widget"></div>

<!-- Step 2: Add widget script -->
<script src="https://mapmyvisitors.com/widget.js?id=${e}"></script>`})}),a.jsx("button",{onClick:f,className:"w-full sm:w-auto h-12 px-6 bg-gradient-to-r from-accent-blue to-accent-purple text-white font-semibold rounded-xl hover:-translate-y-0.5 transition-all duration-200 shadow-lg hover:shadow-accent-blue/50 flex items-center justify-center gap-2 mb-4","aria-label":"Copy widget code to clipboard",children:b?(0,a.jsxs)(a.Fragment,{children:[a.jsx(l.Z,{className:"w-5 h-5","aria-hidden":"true"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(c,{className:"w-5 h-5","aria-hidden":"true"}),"Copy Code"]})}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Paste this code anywhere in your HTML, just before the closing </body> tag"})]})]}),(0,a.jsxs)("div",{className:"text-center mt-12 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["Need help?"," ",a.jsx("a",{href:"mailto:hello@mapmyvisitors.com",className:"text-text-secondary hover:text-text-primary transition-colors",children:"hello@mapmyvisitors.com"})]}),(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["Want multiple websites?"," ",a.jsx("a",{href:"mailto:hello@mapmyvisitors.com",className:"text-text-secondary hover:text-text-primary transition-colors",children:"Contact us"})]})]})]})]}):null}},69521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/workspace/app/dashboard/page.tsx#default`)},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>o});var a=s(19510),i=s(85384),r=s.n(i);s(67272);let o={title:"MapMyVisitors - Show Where Your Visitors Come From",description:"Beautiful 3D globe widget that displays your website visitors in real-time. One line of code. Works instantly.",keywords:["visitor map","3D globe","website analytics","visitor tracking","globe widget"]};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:r().className,children:e})})}},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,892,150],()=>s(89938));module.exports=a})();